<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pitch Deck Analysis Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: 'Inter', system-ui, -apple-system, sans-serif;
            background-color: #111827;
            color: #f3f4f6;
        }
        .gradient-text {
            background: linear-gradient(90deg, #8b5cf6, #3b82f6);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .metric-card {
            background: #1f2937;
            border-radius: 1rem;
            border: 1px solid #374151;
            padding: 1.5rem;
            height: 100%;
            display: flex;
            flex-direction: column;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        
        .metric-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            height: 100%;
        }
        
        .metric-header {
            margin-bottom: 1rem;
        }
        
        .metric-chart-container {
            margin-top: auto;
            min-height: 120px;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            position: relative;
            padding-bottom: 2.5rem;
        }
        
        .metric-value {
            position: absolute;
            bottom: 1.5rem;
            left: 0;
            right: 0;
            text-align: center;
            font-size: 1.5rem;
            font-weight: 700;
            line-height: 1;
        }
        .metric-card::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 0.75rem;
            padding: 2px;
            background: linear-gradient(135deg, #8b5cf6, #4f46e5);
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            -webkit-mask-composite: xor;
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 1;
            pointer-events: none;
        }
        .metric-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 25px -5px rgba(139, 92, 246, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.1);
        }
        .metric-card:hover::after {
            opacity: 1;
        }
        .metric-value {
            font-size: 1.875rem;
            font-weight: 700;
            color: #ffffff;
            margin-top: 0.5rem;
        }
        .metric-label {
            font-size: 0.75rem;
            color: #9ca3af;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            font-weight: 500;
        }
        .chart-container {
            margin-top: 1rem;
            height: 160px;
        }
        .btn-primary {
            background-color: #4f46e5;
            color: white;
            font-weight: 500;
            border-radius: 0.5rem;
            padding: 0.5rem 1.5rem;
            transition: background-color 0.2s;
        }
        .btn-primary:hover {
            background-color: #4338ca;
        }
    </style>
</head>
<body class="min-h-screen">
    <!-- Navigation -->
    <nav class="bg-gray-900 border-b border-gray-800 fixed w-full z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <a href="index.html" class="text-xl font-bold text-white"><span class="gradient-text">PitchDeckPro</span></a>
                </div>
                <div class="hidden sm:ml-6 sm:flex sm:items-center space-x-8">
                    <a href="index.html" class="text-gray-400 hover:text-white px-1 pt-1 text-sm font-medium">Home</a>
                    <a href="analyze.html" class="text-indigo-400 border-b-2 border-indigo-500 px-1 pt-1 text-sm font-medium">Dashboard</a>
                    <a href="upload.html" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700">
                        New Analysis
                    </a>
                </div>
            </div>
        </div>
    </nav>
    <!-- Add padding to main content to account for fixed header -->
    <div class="pt-16"></div>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Header -->
        <div class="mb-8">
            <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-6">
                <div>
                    <h1 class="text-3xl font-bold text-white">Pitch Deck <span class="gradient-text">Analysis</span></h1>
                </div>
                <div class="flex items-center">
                    <label for="pitch-select" class="block text-sm font-medium text-gray-300 mr-3">Select Pitch:</label>
                    <div class="relative">
                        <select id="pitch-select" class="appearance-none bg-gray-800 border border-gray-700 text-white text-sm rounded-lg focus:ring-indigo-500 focus:border-indigo-500 block w-full p-2.5 pr-8">
                            <option value="1">NeuroNova</option>
                            <option value="2">GreenHarvest</option>
                            <option value="3">TechVault</option>
                            <option value="4">MediQuick</option>
                            <option value="5">EduFutura</option>
                        </select>
                        <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-400">
                            <i class="fas fa-chevron-down text-sm"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Growth Chart & Summary Row -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
            <!-- Growth Chart -->
            <div class="lg:col-span-2 bg-gray-800 rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:shadow-indigo-500/20 hover:border-indigo-500/50 border border-transparent transition-colors">
                <div class="flex items-center justify-between mb-6">
                    <h3 class="text-xl font-semibold text-white">Growth Over Time</h3>
                    <div class="flex items-center text-sm text-gray-400">
                        <span class="w-3 h-3 rounded-full bg-indigo-500 mr-1"></span>
                        <span>Score</span>
                    </div>
                </div>
                <div class="h-64 hover:opacity-90 transition-opacity duration-200">
                    <canvas id="growth-chart"></canvas>
                </div>
            </div>
            
            <!-- Summary -->
            <div class="bg-gray-800 rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:shadow-indigo-500/20 hover:border-indigo-500/50 border border-transparent transition-colors">
                <h3 class="text-xl font-semibold text-white mb-4">Executive Summary</h3>
                <div class="bg-gray-850 rounded-lg p-4 h-64 overflow-y-auto hover:bg-gray-800/50 transition-colors duration-200">
                    <p id="summary" class="text-gray-300 leading-relaxed">Loading analysis...</p>
                </div>
            </div>
        </div>

        <!-- Metrics Overview -->
        <div class="mb-8">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <!-- Team Strength -->
                <div class="metric-card bg-gray-800 relative group hover:shadow-lg transition-all duration-300 hover:shadow-blue-500/20">
                    <div class="metric-content">
                        <div class="metric-header">
                            <div class="flex justify-between items-start">
                                <div>
                                    <h3 class="text-lg font-semibold text-gray-300 mb-1">Team Strength</h3>
                                    <p class="text-sm text-gray-400" id="team-strength-desc"></p>
                                </div>
                                <div class="w-12 h-12 rounded-xl bg-blue-900/30 flex items-center justify-center text-blue-400">
                                    <i class="fas fa-users text-xl"></i>
                                </div>
                            </div>
                        </div>
                        <div class="metric-chart-container">
                                <div class="relative w-full h-24 flex items-end justify-center">
                                    <canvas id="team-strength-chart"></canvas>
                                    <div class="metric-value text-blue-400" id="team-strength-value">-</div>
                                </div>
                        </div>
                    </div>
                </div>

                <!-- Market Opportunity -->
                <div class="metric-card bg-gray-800 relative group hover:shadow-lg transition-all duration-300 hover:shadow-green-500/20">
                    <div class="metric-content">
                        <div class="metric-header">
                            <div class="flex justify-between items-start">
                                <div>
                                    <h3 class="text-lg font-semibold text-gray-300 mb-1">Market Opportunity</h3>
                                    <p class="text-sm text-gray-400" id="market-opportunity-desc"></p>
                                </div>
                                <div class="w-12 h-12 rounded-xl bg-green-900/30 flex items-center justify-center text-green-400">
                                    <i class="fas fa-chart-line text-xl"></i>
                                </div>
                            </div>
                        </div>
                        <div class="metric-chart-container">
                                <div class="relative w-full h-24 flex items-end justify-center">
                                    <canvas id="market-opportunity-chart"></canvas>
                                    <div class="metric-value text-green-400" id="market-opportunity-value">-</div>
                                </div>
                        </div>
                    </div>
                </div>

                <!-- Product Clarity -->
                <div class="metric-card bg-gray-800 relative group hover:shadow-lg transition-all duration-300 hover:shadow-purple-500/20">
                    <div class="metric-content">
                        <div class="metric-header">
                            <div class="flex justify-between items-start">
                                <div>
                                    <h3 class="text-lg font-semibold text-gray-300 mb-1">Product Clarity</h3>
                                    <p class="text-sm text-gray-400" id="product-clarity-desc"></p>
                                </div>
                                <div class="w-12 h-12 rounded-xl bg-purple-900/30 flex items-center justify-center text-purple-400">
                                    <i class="fas fa-lightbulb text-xl"></i>
                                </div>
                            </div>
                        </div>
                        <div class="metric-chart-container">
                                <div class="relative w-full h-24 flex items-end justify-center">
                                    <canvas id="product-clarity-chart"></canvas>
                                    <div class="metric-value text-purple-400" id="product-clarity-value">-</div>
                                </div>
                        </div>
                    </div>
                </div>

                <!-- Competitive Positioning -->
                <div class="metric-card bg-gray-800 relative group hover:shadow-lg transition-all duration-300 hover:shadow-yellow-500/20">
                    <div class="metric-content">
                        <div class="metric-header">
                            <div class="flex justify-between items-start">
                                <div>
                                    <h3 class="text-lg font-semibold text-gray-300 mb-1">Competitive Positioning</h3>
                                    <p class="text-sm text-gray-400" id="competitive-positioning-desc"></p>
                                </div>
                                <div class="w-12 h-12 rounded-xl bg-yellow-900/30 flex items-center justify-center text-yellow-400">
                                    <i class="fas fa-chess-king text-xl"></i>
                                </div>
                            </div>
                        </div>
                        <div class="metric-chart-container">
                                <div class="relative w-full h-24 flex items-end justify-center">
                                    <canvas id="competitive-positioning-chart"></canvas>
                                    <div class="metric-value text-yellow-400" id="competitive-positioning-value">-</div>
                                </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>



        <!-- Detailed Analysis -->
        <div class="mt-12 bg-gray-800 rounded-xl p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:shadow-indigo-500/20 hover:border-indigo-500/50 border border-transparent transition-colors">
            <h2 class="text-2xl font-bold text-white mb-8">Detailed Analysis</h2>
            
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- Strengths -->
                <div class="bg-gray-850 rounded-lg p-6 border-l-4 border-green-500">
                    <h3 class="text-xl font-semibold text-green-400 mb-4 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                        </svg>
                        Strengths
                    </h3>
                    <ul class="space-y-3" id="strengths-list">
                        <li class="flex items-start">
                            <span class="text-green-400 mr-2">✓</span>
                            <span class="text-gray-300">Loading strengths...</span>
                        </li>
                    </ul>
                </div>
                
                <!-- Areas for Improvement -->
                <div class="bg-gray-850 rounded-lg p-6 border-l-4 border-yellow-500">
                    <h3 class="text-xl font-semibold text-yellow-400 mb-4 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd" />
                        </svg>
                        Areas for Improvement
                    </h3>
                    <ul class="space-y-3" id="improvements-list">
                        <li class="flex items-start">
                            <span class="text-yellow-400 mr-2">⚠️</span>
                            <span class="text-gray-300">Loading areas for improvement...</span>
                        </li>
                    </ul>
                </div>
                
                <!-- Recommendations -->
                <div class="bg-gray-850 rounded-lg p-6 border-l-4 border-blue-500">
                    <h3 class="text-xl font-semibold text-blue-400 mb-4 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                        </svg>
                        Recommendations
                    </h3>
                    <ul class="space-y-3" id="recommendations-list">
                        <li class="flex items-start">
                            <span class="text-blue-400 mr-2">→</span>
                            <span class="text-gray-300">Loading recommendations...</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

    </main>

    <script>
        // Mock data for different pitches with varied profiles
        const pitchesData = {
            '1': {
                name: "NeuroNova",
                teamStrength: { score: 92, label: "Elite", description: "Neuroscience PhDs from top institutions" },
                marketOpportunity: { score: 95, label: "Massive", description: "$300B+ neurotech market by 2025" },
                productClarity: { score: 88, label: "Breakthrough", description: "First non-invasive BCI for mass market" },
                tractionEvidence: { score: 45, label: "Prototype", description: "FDA approval pending, 3 clinical trials" },
                monetizationStrategy: { score: 65, label: "Developing", description: "Medical device sales + data licensing" },
                competitivePositioning: { score: 90, label: "Dominant", description: "5-year patent advantage" },
                growthHistory: [5, 12, 25, 38, 50, 70, 92],
                summary: "NeuroNova is pioneering brain-computer interface technology with potential to revolutionize multiple industries. While regulatory hurdles remain, their technical lead and IP position them as a future market leader.",
                strengths: [
                    "World-class neuroscience research team with multiple PhDs and published papers",
                    "Strong IP portfolio with 15+ patents filed in brain-computer interface technology",
                    "Clear first-mover advantage in non-invasive neural interface solutions",
                    "Strategic partnerships with leading medical research institutions"
                ],
                improvements: [
                    "FDA approval timeline remains uncertain with potential delays",
                    "High R&D burn rate requiring significant capital before revenue generation",
                    "Limited commercial experience in medical device go-to-market strategies",
                    "Regulatory pathway for consumer applications remains unclear"
                ],
                recommendations: [
                    "Pursue strategic partnerships with medical device companies for distribution",
                    "Develop interim revenue streams through research collaborations",
                    "Expand regulatory team to accelerate approval processes",
                    "Consider a phased market entry starting with medical applications"
                ]
            },
            '2': {
                name: "EcoPack",
                teamStrength: { score: 68, label: "Adequate", description: "Mix of industry vets and sustainability experts" },
                marketOpportunity: { score: 85, label: "Large", description: "$150B sustainable packaging market" },
                productClarity: { score: 92, label: "Exceptional", description: "Fully compostable packaging solution" },
                tractionEvidence: { score: 82, label: "Scaling", description: "$2M ARR, 200+ e-commerce clients" },
                monetizationStrategy: { score: 95, label: "Proven", description: "15% premium over traditional packaging" },
                competitivePositioning: { score: 88, label: "Leading", description: "Only 100% home-compostable solution" },
                growthHistory: [10, 25, 45, 60, 72, 85, 88],
                summary: "EcoPack has achieved product-market fit in the sustainable packaging space with strong unit economics. Their patented material science gives them a defensible position in a growing market.",
                strengths: [
                    "Proprietary material science with 12-month shelf life and superior durability",
                    "Established manufacturing partnerships enabling rapid scale-up",
                    "Strong brand recognition in the sustainable e-commerce segment",
                    "Proven ability to command premium pricing with 85% gross margins"
                ],
                improvements: [
                    "Dependence on single-source suppliers for key materials",
                    "Limited international distribution network",
                    "Need to educate consumers on proper disposal methods",
                    "Vulnerability to greenwashing accusations without proper certification"
                ],
                recommendations: [
                    "Diversify supplier base to reduce supply chain risk",
                    "Expand certification portfolio with recognized eco-labels",
                    "Develop B2B partnerships with major retailers",
                    "Invest in consumer education campaigns about composting"
                ]
            },
            '3': {
                name: "QuantumCore",
                teamStrength: { score: 85, label: "World-class", description: "Nobel laureate founder, quantum physicists" },
                marketOpportunity: { score: 99, label: "Revolutionary", description: "$1T+ potential in quantum computing" },
                productClarity: { score: 45, label: "Theoretical", description: "Working prototype, unproven at scale" },
                tractionEvidence: { score: 30, label: "Pre-revenue", description: "$50M in government grants" },
                monetizationStrategy: { score: 25, label: "Speculative", description: "Cloud access model, long-term play" },
                competitivePositioning: { score: 95, label: "Cutting-edge", description: "2-year technical lead on competitors" },
                growthHistory: [5, 8, 15, 22, 30, 45, 65],
                summary: "QuantumCore is a high-risk, high-reward bet on quantum computing. While years from commercialization, their technical breakthroughs could redefine entire industries if successful.",
                strengths: [
                    "Nobel Prize-winning founder with extensive academic and research credentials",
                    "Significant government and institutional funding reducing dilution risk",
                    "Breakthrough error-correction technology for stable qubits",
                    "Strategic partnerships with national research labs"
                ],
                improvements: [
                    "Unproven technology at commercial scale",
                    "Long time to market with significant capital requirements",
                    "Lack of clear commercial roadmap",
                    "Dependence on continued academic talent acquisition"
                ],
                recommendations: [
                    "Focus on specific high-value use cases with early adopters",
                    "Develop interim consulting services to generate revenue",
                    "Pursue additional government contracts for non-dilutive funding",
                    "Build strategic partnerships with cloud providers"
                ]
            },
            '4': {
                name: "LocalEats",
                teamStrength: { score: 10, label: "Dangerous", description: "Sunny Saini, notorious punjabi gang member, part of team." },
                marketOpportunity: { score: 65, label: "Competitive", description: "$100B food delivery market" },
                productClarity: { score: 88, label: "Refined", description: "Hyperlocal farm-to-table delivery" },
                tractionEvidence: { score: 92, label: "Explosive", description: "10x YoY growth, 50K+ users" },
                monetizationStrategy: { score: 85, label: "Solid", description: "Commission + subscription model" },
                competitivePositioning: { score: 60, label: "Challenger", description: "Differentiated sourcing, higher margins" },
                growthHistory: [5, 15, 90, 50, 5, 11, 29],
                summary: "LocalEats is capitalizing on the farm-to-table movement with a capital-efficient model. Their focus on premium, sustainable food sources has driven impressive growth and customer loyalty.",
                strengths: [
                    "Strong local supplier network with 200+ farm partnerships",
                    "Exceptional customer retention with 85% 6-month retention rate",
                    "Capital-efficient marketplace model with negative working capital cycle",
                    "Authentic brand story resonating with health-conscious consumers"
                ],
                improvements: [
                    "Limited geographic coverage outside initial markets",
                    "High customer acquisition costs in competitive segments",
                    "Supply chain complexity with perishable inventory",
                    "Dependence on local farmer relationships"
                ],
                recommendations: [
                    "Expand to adjacent markets with similar demographics",
                    "Develop private label product line for higher margins",
                    "Implement dynamic pricing to optimize delivery efficiency",
                    "Enhance technology platform for better supplier integration"
                ]
            },
            '5': {
                name: "EduFutura",
                teamStrength: { score: 100, label: "Rookie", description: "Anitvir Taunque part of team" },
                marketOpportunity: { score: 78, label: "Substantial", description: "$250B global edtech market" },
                productClarity: { score: 82, label: "Validated", description: "AI-powered personalized learning platform" },
                tractionEvidence: { score: 68, label: "Growing", description: "500K+ users, 10K+ paid subscribers" },
                monetizationStrategy: { score: 75, label: "Scalable", description: "Freemium with premium features" },
                competitivePositioning: { score: 70, label: "Differentiated", description: "Unique adaptive learning algorithm" },
                growthHistory: [10, 20, 35, 50, 62, 70, 82],
                summary: "EduFutura is transforming education through AI-driven personalized learning experiences, showing strong product-market fit in the K-12 segment.",
                strengths: [
                    "Proprietary adaptive learning algorithm with proven learning outcomes",
                    "Strong engagement metrics with 45 minutes average daily usage",
                    "Diverse content library covering multiple subjects and grade levels",
                    "Experienced education technology leadership team"
                ],
                improvements: [
                    "High customer acquisition costs in competitive markets",
                    "Need for continuous content development",
                    "Challenges in demonstrating ROI to institutional buyers",
                    "Limited brand recognition compared to established players"
                ],
                recommendations: [
                    "Develop strategic partnerships with school districts",
                    "Expand into test preparation and certification markets",
                    "Enhance analytics for better learning outcome measurement",
                    "Explore B2B2C models for faster enterprise adoption"
                ]
            }
        };

        // Initialize with first pitch
        let currentPitchId = '1';

        // Function to update the dashboard with pitch data
        function updateDashboard(pitchId) {
            const pitchData = pitchesData[pitchId];
            if (!pitchData) return;
            
            // Update all metrics
            updateMetric('team-strength', pitchData.teamStrength);
            updateMetric('market-opportunity', pitchData.marketOpportunity);
            updateMetric('product-clarity', pitchData.productClarity);
            updateMetric('competitive-positioning', pitchData.competitivePositioning);

            // Update summary
            document.getElementById('summary').textContent = pitchData.summary;

            // Update growth chart
            createGrowthChart(pitchData.growthHistory);
            
            // Update document title
            document.title = `${pitchData.name} - Pitch Analysis | PitchDeckPro`;
            
            // Update detailed analysis sections
            updateAnalysisSection('strengths', pitchData.strengths);
            updateAnalysisSection('improvements', pitchData.improvements);
            updateAnalysisSection('recommendations', pitchData.recommendations);
            
            function updateAnalysisSection(sectionId, items) {
                const container = document.getElementById(`${sectionId}-list`);
                if (!container) return;
                
                // Clear existing items
                container.innerHTML = '';
                
                // Add new items
                items.forEach(item => {
                    const li = document.createElement('li');
                    li.className = 'flex items-start';
                    
                    // Add appropriate icon based on section
                    let icon = '→';
                    if (sectionId === 'strengths') icon = '✓';
                    else if (sectionId === 'improvements') icon = '⚠️';
                    
                    li.innerHTML = `
                        <span class="${sectionId === 'strengths' ? 'text-green-400' : sectionId === 'improvements' ? 'text-yellow-400' : 'text-blue-400'} mr-2">${icon}</span>
                        <span class="text-gray-300">${item}</span>
                    `;
                    
                    container.appendChild(li);
                });
            }
        }

        // Initialize charts when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            // Get the pitch select element
            const pitchSelect = document.getElementById('pitch-select');
            
            // Add event listener for pitch selection
            pitchSelect.addEventListener('change', (e) => {
                currentPitchId = e.target.value;
                updateDashboard(currentPitchId);
            });
            
            // Initialize with the first pitch
            updateDashboard(currentPitchId);
        });

        // Store chart instances
        const chartInstances = {};

        function updateMetric(metricId, data) {
            if (!data) return;
            
            // Update value
            const valueElement = document.getElementById(`${metricId}-value`);
            if (valueElement) {
                valueElement.textContent = data.score;
            }
            
            // Update description
            const descElement = document.getElementById(`${metricId}-desc`);
            if (descElement) {
                descElement.textContent = data.description;
            }
            
            // Create or update donut chart
            const canvasId = `${metricId}-chart`;
            const canvas = document.getElementById(canvasId);
            if (!canvas) return;
            
            // Clear existing chart if it exists
            if (chartInstances[canvasId]) {
                chartInstances[canvasId].destroy();
            }
            
            // Create new chart
            const ctx = canvas.getContext('2d');
            const color = getColorForMetric(metricId);
            
            chartInstances[canvasId] = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    datasets: [{
                        data: [data.score, 100 - data.score],
                        backgroundColor: [
                            color,
                            'rgba(255, 255, 255, 0.1)'
                        ],
                        borderWidth: 0,
                        cutout: '70%'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    cutoutPercentage: 70,
                    rotation: -90,
                    circumference: 180,
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            enabled: false
                        }
                    },
                    animation: {
                        animateScale: true,
                        animateRotate: true
                    }
                }
            });
        }
        
        function getColorForMetric(metricId) {
            const colors = {
                'team-strength': '#3B82F6',
                'market-opportunity': '#10B981',
                'product-clarity': '#8B5CF6',
                'competitive-positioning': '#F59E0B',
                'investment-readiness': '#F59E0B' // Keeping for backward compatibility
            };
            return colors[metricId] || '#6366F1';
        }

        function getColorForValue(value, canvasId = '') {
            // Default colors based on metric type
            const colors = {
                'team-strength': '#3B82F6', // Blue
                'market-opportunity': '#10B981', // Green
                'product-clarity': '#8B5CF6', // Purple
                'investment-readiness': '#F59E0B' // Yellow
            };
            
            // Get the base color based on the canvasId
            let baseColor = colors[canvasId] || '#6366F1'; // Default to indigo
            
            return baseColor;
        }
        
        function createDonutChart(canvasId, value) {
            const canvas = document.getElementById(canvasId);
            if (!canvas) return null;
            
            // Set explicit dimensions for the canvas
            canvas.width = 200;
            canvas.height = 200;
            
            // Clear any existing chart
            const existingChart = Chart.getChart(canvas);
            if (existingChart) {
                existingChart.destroy();
            }
            
            const ctx = canvas.getContext('2d');
            const remaining = 100 - value;
            const baseColor = getColorForValue(value, canvasId);
            
            // Create gradient for the chart
            const gradient = ctx.createLinearGradient(0, 0, 0, 200);
            gradient.addColorStop(0, `${baseColor}80`);
            gradient.addColorStop(1, baseColor);
            
            // Create the chart with explicit dimensions
            return new Chart(ctx, {
                type: 'doughnut',
                data: {
                    datasets: [{
                        data: [value, remaining],
                        backgroundColor: [
                            gradient,
                            'rgba(255, 255, 255, 0.05)'
                        ],
                        borderWidth: 0,
                        cutout: '70%',
                        borderRadius: 8,
                        spacing: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    cutout: '70%',
                    animation: {
                        animateScale: true,
                        animateRotate: true
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            enabled: false
                        }
                    },
                    layout: {
                        padding: 0
                    },
                    elements: {
                        arc: {
                            borderWidth: 0
                        }
                    }
                }
            });
        }

        function createGrowthChart(growthData) {
            const canvas = document.getElementById('growth-chart');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            
            // Create gradient for the area under the line
            const gradient = ctx.createLinearGradient(0, 0, 0, canvas.offsetHeight);
            gradient.addColorStop(0, 'rgba(99, 102, 241, 0.2)');
            gradient.addColorStop(1, 'rgba(99, 102, 241, 0)');
            
            // Clear existing chart if it exists
            if (chartInstances['growth-chart']) {
                chartInstances['growth-chart'].destroy();
            }
            
            const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul'];
            
            chartInstances['growth-chart'] = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: months.slice(0, growthData.length),
                    datasets: [{
                        label: 'Growth Score',
                        data: growthData,
                        borderColor: '#6366F1',
                        backgroundColor: gradient,
                        borderWidth: 3,
                        tension: 0.4,
                        fill: true,
                        pointBackgroundColor: '#111827',
                        pointBorderColor: '#6366F1',
                        pointBorderWidth: 2,
                        pointRadius: 4,
                        pointHoverRadius: 6,
                        pointHoverBackgroundColor: '#6366F1',
                        pointHoverBorderColor: '#fff'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    interaction: {
                        intersect: false,
                        mode: 'index'
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            grid: {
                                color: 'rgba(255, 255, 255, 0.05)',
                                drawBorder: false
                            },
                            ticks: {
                                color: '#9CA3AF',
                                padding: 8,
                                callback: function(value) {
                                    return value + '%';
                                }
                            }
                        },
                        x: {
                            grid: {
                                display: false,
                                drawBorder: false
                            },
                            ticks: {
                                color: '#9CA3AF',
                                padding: 8
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            backgroundColor: '#1F2937',
                            titleColor: '#F9FAFB',
                            bodyColor: '#E5E7EB',
                            borderColor: '#374151',
                            borderWidth: 1,
                            padding: 12,
                            cornerRadius: 8,
                            displayColors: false,
                            callbacks: {
                                label: function(context) {
                                    return `Score: ${context.parsed.y}%`;
                                }
                            }
                        }
                    }
                }
            });
        }

        function getColorForValue(value) {
            if (value >= 80) return '#10b981'; // Green
            if (value >= 60) return '#3b82f6'; // Blue
            if (value >= 40) return '#f59e0b'; // Yellow
            return '#ef4444'; // Red
        }
    </script>
</body>
</html>
